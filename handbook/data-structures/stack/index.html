<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="turbo-cache-control" content="no-cache" data-turbo-track="reload" data-track-token="3.6.0.789871565909">

    <!-- See retype.com -->
    <meta name="generator" content="Retype 3.6.0">

    <!-- Primary Meta Tags -->
    <title>Ngăn xếp (Stack) | ChuyentinORZ Wiki</title>
    <meta name="title" content="Ngăn xếp (Stack) | ChuyentinORZ Wiki">
    <meta name="description" content="Stack (ngăn xếp) là một CTDL lưu trữ các phần tử gồm 2 thao tác chính:">

    <!-- Canonical -->
    <link rel="canonical" href="/handbook/data-structures/stack/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="/handbook/data-structures/stack/">
    <meta property="og:title" content="Ngăn xếp (Stack) | ChuyentinORZ Wiki">
    <meta property="og:description" content="Stack (ngăn xếp) là một CTDL lưu trữ các phần tử gồm 2 thao tác chính:">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="/handbook/data-structures/stack/">
    <meta property="twitter:title" content="Ngăn xếp (Stack) | ChuyentinORZ Wiki">
    <meta property="twitter:description" content="Stack (ngăn xếp) là một CTDL lưu trữ các phần tử gồm 2 thao tác chính:">

    <script data-cfasync="false">(function () { var el = document.documentElement, m = localStorage.getItem("doc_theme"), wm = window.matchMedia; if (m === "dark" || (!m && wm && wm("(prefers-color-scheme: dark)").matches)) { el.classList.add("dark") } else { el.classList.remove("dark") } })();</script>

    <link href="../../../logo.png" rel="icon">
    <link href="../../../resources/css/retype.css?v=3.6.0.789871565909" rel="stylesheet">

    <script data-cfasync="false" src="../../../resources/js/config.js?v=3.6.0.789871565909" data-turbo-eval="false" defer></script>
    <script data-cfasync="false" src="../../../resources/js/retype.js?v=3.6.0" data-turbo-eval="false" defer></script>
    <script id="lunr-js" data-cfasync="false" src="../../../resources/js/lunr.js?v=3.6.0.789871565909" data-turbo-eval="false" defer></script>
    <script id="prism-js" data-cfasync="false" src="../../../resources/js/prism.js?v=3.6.0.789871565909" defer></script>
    <link href="../../../resources/css/katex.css?v=3.6.0" rel="stylesheet">
    <script id="katex-js" data-cfasync="false" src="../../../resources/js/katex.js?v=3.6.0" defer></script>
</head>
<body>
    <div id="docs-app" class="relative text-base antialiased text-gray-700 bg-white font-body dark:bg-dark-850 dark:text-dark-300">
        <div class="absolute bottom-0 left-0 bg-gray-100 dark:bg-dark-800" style="top: 5rem; right: 50%"></div>
    
        <header id="docs-site-header" class="sticky top-0 z-30 flex w-full h-16 bg-white border-b border-gray-200 md:h-20 dark:bg-dark-850 dark:border-dark-650">
            <div class="container relative flex items-center justify-between pr-6 grow md:justify-start">
                <!-- Mobile menu button skeleton -->
                <button v-cloak class="skeleton docs-mobile-menu-button flex items-center justify-center shrink-0 overflow-hidden dark:text-white focus:outline-none rounded-full w-10 h-10 ml-3.5 md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="mb-px shrink-0" width="24" height="24" viewBox="0 0 24 24" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor"><path d="M2 4h20v2H2zM2 11h20v2H2zM2 18h20v2H2z"></path></g></svg></button>
                <div v-cloak id="docs-sidebar-toggle"></div>
        
                <!-- Logo -->
                <div class="flex items-center justify-between h-full py-2 md:w-75">
                    <div class="flex items-center px-2 md:px-6">
                        <a id="docs-site-logo" href="../../../" class="flex items-center leading-snug text-xl">
                            <span class="w-10 mr-2 grow-0 shrink-0 overflow-hidden">
                                <img class="max-h-10 dark:hidden md:inline-block" src="../../../logo.png">
                                <img class="max-h-10 hidden dark:inline-block" src="../../../logo.png">
                            </span>
                            <span class="dark:text-white font-semibold line-clamp-1 md:line-clamp-2">Chuyen Tin orz</span>
                        </a><span class="hidden px-2 py-1 ml-4 text-sm font-semibold leading-none text-root-logo-label-text bg-root-logo-label-bg rounded-sm md:inline-block">v1.0.0</span>
                    </div>
        
                    <span class="hidden h-8 border-r md:inline-block dark:border-dark-650"></span>
                </div>
        
                <div class="flex justify-between md:grow">
                    <!-- Top Nav -->
                    <nav class="hidden md:flex">
                        <ul class="flex flex-col mb-4 md:pl-16 md:mb-0 md:flex-row md:items-center">
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://chuyentinorz.is-a.dev">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                        <g fill="currentColor">
                                            <path d="M11.03 2.59a1.501 1.501 0 0 1 1.94 0l7.5 6.363a1.5 1.5 0 0 1 .53 1.144V19.5a1.5 1.5 0 0 1-1.5 1.5h-5.75a.75.75 0 0 1-.75-.75V14h-2v6.25a.75.75 0 0 1-.75.75H4.5A1.5 1.5 0 0 1 3 19.5v-9.403c0-.44.194-.859.53-1.144ZM12 3.734l-7.5 6.363V19.5h5v-6.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v6.25h5v-9.403Z"/>
                                        </g>
                                    </svg>
                                    <span>Homepage</span>
                                </a>
                            </li>
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://orz-blog.github.io">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                        <g fill="currentColor">
                                            <path d="M3.5 3.25a.75.75 0 0 1 .75-.75C14.053 2.5 22 10.447 22 20.25a.75.75 0 0 1-1.5 0C20.5 11.275 13.225 4 4.25 4a.75.75 0 0 1-.75-.75Zm.75 6.25C10.187 9.5 15 14.313 15 20.25a.75.75 0 0 1-1.5 0A9.25 9.25 0 0 0 4.25 11a.75.75 0 0 1 0-1.5ZM3.5 19a2 2 0 1 1 3.999-.001A2 2 0 0 1 3.5 19Z"/>
                                        </g>
                                    </svg>
                                    <span>Blogs</span>
                                </a>
                            </li>
        
                        </ul>
                    </nav>
        
                    <!-- Header Right Skeleton -->
                    <div v-cloak class="flex justify-end grow skeleton">
        
                        <!-- Search input mock -->
                        <div class="relative hidden w-40 lg:block lg:max-w-sm lg:ml-auto">
                            <div class="absolute flex items-center justify-center h-full pl-3 dark:text-dark-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon-base" width="16" height="16" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 1px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                            </div>
                            <input class="w-full h-10 placeholder-gray-400 transition-colors duration-200 ease-in bg-gray-200 border border-transparent rounded md:text-sm hover:bg-white hover:border-gray-300 focus:outline-none focus:bg-white focus:border-gray-500 dark:bg-dark-600 dark:border-dark-600 dark:placeholder-dark-400" style="padding: 0.625rem 0.75rem 0.625rem 2rem" type="text" placeholder="T&#236;m kiếm...">
                        </div>
        
                        <!-- Mobile search button -->
                        <div class="flex items-center justify-center w-10 h-10 lg:hidden">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="20" height="20" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                        </div>
        
                        <!-- Dark mode switch placeholder -->
                        <div class="w-10 h-10 lg:ml-2"></div>
        
                        <!-- History button -->
                        <div class="flex items-center justify-center w-10 h-10" style="margin-right: -0.625rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="22" height="22" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor" ><g ><path d="M12.01 6.01c-.55 0-1 .45-1 1V12a1 1 0 00.4.8l3 2.22a.985.985 0 001.39-.2.996.996 0 00-.21-1.4l-2.6-1.92V7.01c.02-.55-.43-1-.98-1z"></path><path d="M12.01 1.91c-5.33 0-9.69 4.16-10.05 9.4l-.29-.26a.997.997 0 10-1.34 1.48l1.97 1.79c.19.17.43.26.67.26s.48-.09.67-.26l1.97-1.79a.997.997 0 10-1.34-1.48l-.31.28c.34-4.14 3.82-7.41 8.05-7.41 4.46 0 8.08 3.63 8.08 8.09s-3.63 8.08-8.08 8.08c-2.18 0-4.22-.85-5.75-2.4a.996.996 0 10-1.42 1.4 10.02 10.02 0 007.17 2.99c5.56 0 10.08-4.52 10.08-10.08.01-5.56-4.52-10.09-10.08-10.09z"></path></g></g></svg>
                        </div>
                    </div>
        
                    <div v-cloak class="flex justify-end grow">
                        <div id="docs-mobile-search-button"></div>
                        <doc-search-desktop></doc-search-desktop>
        
                        <doc-theme-switch class="lg:ml-2"></doc-theme-switch>
                        <doc-history></doc-history>
                    </div>
                </div>
            </div>
        </header>
    
        <div class="container relative flex bg-white">
            <!-- Sidebar Skeleton -->
            <div v-cloak class="fixed flex flex-col shrink-0 duration-300 ease-in-out bg-gray-100 border-gray-200 sidebar top-20 w-75 border-r h-screen md:sticky transition-transform skeleton dark:bg-dark-800 dark:border-dark-650">
            
                <!-- Render this div, if config.showSidebarFilter is `true` -->
                <div class="flex items-center h-16 px-6">
                    <input class="w-full h-8 px-3 py-2 transition-colors duration-200 ease-linear bg-white border border-gray-200 rounded shadow-none text-sm focus:outline-none focus:border-gray-600 dark:bg-dark-600 dark:border-dark-600" type="text" placeholder="Filter">
                </div>
            
                <div class="pl-6 mt-1 mb-4">
                    <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                </div>
            
                <div class="shrink-0 mt-auto bg-transparent dark:border-dark-650">
                    <a class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                        <span class="text-xs whitespace-nowrap">Powered by</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                    </a>
                </div>
            </div>
            
            <!-- Sidebar component -->
            <doc-sidebar v-cloak>
                <template #sidebar-footer>
                    <div class="shrink-0 mt-auto border-t md:bg-transparent md:border-none dark:border-dark-650">
            
                        <div class="py-3 px-6 md:hidden border-b dark:border-dark-650">
                            <nav>
                                <ul class="flex flex-wrap justify-center items-center">
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://chuyentinorz.is-a.dev">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                                <g fill="currentColor">
                                                    <path d="M11.03 2.59a1.501 1.501 0 0 1 1.94 0l7.5 6.363a1.5 1.5 0 0 1 .53 1.144V19.5a1.5 1.5 0 0 1-1.5 1.5h-5.75a.75.75 0 0 1-.75-.75V14h-2v6.25a.75.75 0 0 1-.75.75H4.5A1.5 1.5 0 0 1 3 19.5v-9.403c0-.44.194-.859.53-1.144ZM12 3.734l-7.5 6.363V19.5h5v-6.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v6.25h5v-9.403Z"/>
                                                </g>
                                            </svg>
                                            <span>Homepage</span>
                                        </a>
                                    </li>
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://orz-blog.github.io">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                                <g fill="currentColor">
                                                    <path d="M3.5 3.25a.75.75 0 0 1 .75-.75C14.053 2.5 22 10.447 22 20.25a.75.75 0 0 1-1.5 0C20.5 11.275 13.225 4 4.25 4a.75.75 0 0 1-.75-.75Zm.75 6.25C10.187 9.5 15 14.313 15 20.25a.75.75 0 0 1-1.5 0A9.25 9.25 0 0 0 4.25 11a.75.75 0 0 1 0-1.5ZM3.5 19a2 2 0 1 1 3.999-.001A2 2 0 0 1 3.5 19Z"/>
                                                </g>
                                            </svg>
                                            <span>Blogs</span>
                                        </a>
                                    </li>
            
                                </ul>
                            </nav>
                        </div>
            
                        <a class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                            <span class="text-xs whitespace-nowrap">Powered by</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                        </a>
                    </div>
                </template>
            </doc-sidebar>
    
            <div class="grow min-w-0 dark:bg-dark-850">
                <!-- Render "toolbar" template here on api pages --><!-- Render page content -->
                <div class="flex">
                    <div class="min-w-0 p-4 grow md:px-16">
                        <main class="relative pb-12 lg:pt-2">
                            <div class="docs-markdown" id="docs-content">
                                <!-- Rendered if sidebar right is enabled -->
                                <div id="docs-sidebar-right-toggle"></div>
                                <!-- Page content  -->
<doc-anchor-target id="ngăn-xếp-stack" class="break-words">
    <h1>
        <doc-anchor-trigger class="header-anchor-trigger" to="#ngăn-xếp-stack">#</doc-anchor-trigger>
        <span>Ngăn xếp (Stack)</span>
    </h1>
</doc-anchor-target>
<doc-anchor-target id="định-nghĩa">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#định-nghĩa">#</doc-anchor-trigger>
        <span>Định nghĩa</span>
    </h2>
</doc-anchor-target>
<p><strong>Stack (ngăn xếp)</strong> là một CTDL lưu trữ các phần tử gồm <span class="math">2</span> thao tác chính:</p>
<ul>
<li><strong>Push</strong>: Thêm một phần tử vào <em>cuối</em> danh sách, và</li>
<li><strong>Pop</strong>: Loại bỏ phần tử ở <em>cuối</em> danh sách.</li>
</ul>
<p>Ngoài ra, giá trị phần tử ở đỉnh stack có thể được biết bằng thao tác <strong>Peek</strong>.</p>
<p>Ta có thể hình dung stack như một chồng đĩa: Chiếc đĩa cuối cùng được cho vào và đĩa nằm trên các đĩa còn lại và sẽ là đĩa đầu tiên được lấy ra. Quá trình này được mô tả là <strong>Last In</strong>, <strong>First Out - LIFO (Vào sau, ra trước)</strong>.</p>
<doc-anchor-target id="cài-đặt">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#cài-đặt">#</doc-anchor-trigger>
        <span>Cài đặt</span>
    </h2>
</doc-anchor-target>
<p>Ta cài đặt stack bằng mảng:</p>
<ul>
<li>Cho một mảng <code v-pre>st</code> và chỉ số <code v-pre>top</code>.</li>
<li>Để thêm một phần tử, gán <code v-pre>st[top]</code> với một giá trị và tăng chỉ số <code v-pre>top</code> lên <span class="math">1</span>.</li>
<li>Để loại bỏ một phần tử, giảm chỉ số của <code v-pre>top</code> xuống 1.</li>
<li>Giá trị ở cuối mảng sẽ là giá trị ở đỉnh stack: <code v-pre>st[top]</code></li>
<li>Stack rỗng khi trong mảng không có phần tử: <code v-pre>top = 0</code></li>
<li>Kích thước của stack là số phần tử là số phần tử trong stack: <code v-pre>top</code></li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-cpp"><code v-pre class="language-cpp">const int N = 1e5 + 10; 
struct Stack{
	int st[N];
	int top = 0;
	// Các thao tác chính: push, pop
	void push(int x){
		st[++top] = x;
	}

	// Tiện thể kiểm tra có thể pop phần tử ra khỏi stack được không  
	bool pop(){ 
		if(top == 0) return 0;
		--top;
		return 1;
	}

	// Các thao tác khác: peek, isEmpty, size.
	int peek(){
		return st[top];
	}

	bool isEmpty(){
		return top == 0;
	}

	int size(){
		return top;
	}
}</code></pre>
</doc-codeblock></div>
<p>Dễ thấy, các thao tác của stack đều có độ phức tạp thời gian là <span class="math">O(1)</span>.</p>
<doc-anchor-target id="stack-trong-thư-viện-chuẩn">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#stack-trong-thư-viện-chuẩn">#</doc-anchor-trigger>
        <span>Stack trong thư viện chuẩn</span>
    </h2>
</doc-anchor-target>
<p>Để sử dụng stack trong thư viện chuẩn, ta khai báo thư viện <code v-pre>&lt;stack&gt;</code> trong C++.</p>
<p>Khai báo stack:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-cpp"><code v-pre class="language-cpp">stack&lt;kiểu_dữ_liệu&gt; Tên_stack;</code></pre>
</doc-codeblock></div>
<p>Các phương thức phổ biến của stack:</p>
<ul>
<li><code v-pre>push(x)</code>: Thêm phần tử <code v-pre>x</code> vào stack</li>
<li><code v-pre>pop()</code>: Loại bỏ một phần tử ở đầu stack</li>
<li><code v-pre>top()</code>: Trả về giá trị của phần tử ở đỉnh stack</li>
<li><code v-pre>empty()</code>: Trả về giá trị đúng nếu stack không có phần tử và ngược lại</li>
<li><code v-pre>size()</code>: Trả về số phần tử trong stack</li>
</ul>
<p>Giống như khi ta cài đặt thủ công, các thao tác nói trên có độ phức tạp thời gian <span class="math">O(1)</span>.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-cpp"><code v-pre class="language-cpp">#include &lt;bits/stdc++.h&gt;
#define ll long long
using namespace std;

int main () {
	ios_base::sync_with_stdio(0);
	cin.tie(0);
	stack&lt;int&gt; st;
	st.push(1);
	st.push(20);
	st.push(3);
	cout &lt;&lt; st.top() &lt;&lt; '\n'; // 3
	st.pop();
	cout &lt;&lt; st.top() &lt;&lt; '\n'; // 20
	cout &lt;&lt; st.size() &lt;&lt; '\n'; // 2
	cout &lt;&lt; st.empty() &lt;&lt; '\n'; // 0

	
	return 0;
}</code></pre>
</doc-codeblock></div>
<p>Ta cũng có thể cài stack bằng cách sử dụng <code v-pre>vector</code>.</p>
<p>Ta có:</p>
<ul>
<li><code v-pre>push_back(x)</code> = <code v-pre>push(x)</code></li>
<li><code v-pre>pop_back()</code> = <code v-pre>pop()</code></li>
<li><code v-pre>back()</code> = <code v-pre>top()</code></li>
</ul>
<doc-anchor-target id="ứng-dụng">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#ứng-dụng">#</doc-anchor-trigger>
        <span>Ứng dụng</span>
    </h2>
</doc-anchor-target>
<p>Dưới đây là một số ứng dụng của stack.</p>
<doc-anchor-target id="xử-lí-các-sự-kiện-theo-trình-tự-lifo">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#xử-lí-các-sự-kiện-theo-trình-tự-lifo">#</doc-anchor-trigger>
        <span>Xử lí các sự kiện theo trình tự LIFO</span>
    </h3>
</doc-anchor-target>
<div class="flex mb-6">
    <div class="shrink-0 w-1 rounded-tl rounded-bl bg-blue-300"></div>
    <div class="flex w-full py-4 border border-l-0 border-gray-300 rounded-tr rounded-br doc-alert bg-white dark:bg-dark-700 dark:border-dark-700" role="alert">
        <div class="flex items-center ml-4 h-7">
            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px text-blue-300" width="22" height="22" viewBox="0 0 24 24" role="presentation">
                <g fill="currentColor"><g>
                    <path d="M12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9z"></path>
                    <path d="M12 11c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1v-4c0-.55-.45-1-1-1zM12.01 7c-.56 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path>
                    <path fill="none" d="M0 0h24v24H0z"></path>
                </g></g>
            </svg>
        </div>
        <div class="pr-5 ml-3 w-full">
<p>Bài ví dụ: <a href="https://open.kattis.com/problems/backspace">Backspace - OpenKattis</a>.</p>
        </div>
    </div>
</div>
<p><strong>Lời giải:</strong> Ta dùng <code v-pre>string</code> để biểu diễn stack. Với mỗi kí tự được xét từ trái sang phải, nếu gặp dấu <code v-pre>&lt;</code> thì xóa kí tự cuối trong xâu, nếu không thì thêm kí tự vào cuối xâu.</p>
<p><strong>Bài giải:</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-cpp"><code v-pre class="language-cpp">#include &lt;bits/stdc++.h&gt;
#define ll long long
using namespace std;

int main () {
	ios_base::sync_with_stdio(0);
	cin.tie(0);
	string s; cin &gt;&gt; s;
	string ans = &quot;&quot;;	
	for(char c : s){
		if(c == '&lt;') ans.pop_back();
		else ans += c;
	}
	cout &lt;&lt; ans;

	
	return 0;
}</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="ký-pháp-nghịch-đảo-ba-lan">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#ký-pháp-nghịch-đảo-ba-lan">#</doc-anchor-trigger>
        <span>Ký pháp nghịch đảo Ba Lan</span>
    </h3>
</doc-anchor-target>
<p><strong>Ký pháp nghịch đảo Ba Lan (Reverse Polish notation - RPN)</strong> hay <strong>kí pháp hậu tố (postfix notation)</strong>, là một phương pháp viết các biểu thức toán học, với các toán tử (ta sẽ giới hạn với các toán tử cộng, trừ, nhân, chia) được viết sau các toán hạng. Từ <strong>Ba lan</strong> trong tên gọi dùng để chỉ quốc tịch của người phát minh ra kí pháp là <a href="https://en.wikipedia.org/wiki/Jan_%C5%81ukasiewicz">Jan Łukasiewicz</a>.</p>
<p>Giả sử ta có biểu thức được viết ở dạng <strong>kí pháp trung tố (infix notation)</strong> - toán tử được viết ở giữa các toán hạng:</p>
<p><span class="math">4 \times (1 + 2 \times (9 / 3) - 5)</span></p>
<p>thì khi viết theo RPN sẽ được biểu diễn thành:</p>
<p><span class="math">4\ 1\ 2\ 9\ 3\ / \times +\ 5 - \times</span></p>
<p>Cái lợi của RPN chính là <strong>ta có thể tính toán một biểu thức mội cách dễ dàng trong thời gian tuyến tính</strong>.</p>
<p>Ta sử dụng một stack. Khi duyệt biểu thức từ trái sang phải, nếu phần tử được xét đến <strong>là một toán hạng</strong>, ta thêm phần tử ấy vào stack. Nếu là một toán tử thì ta sẽ thực hiện việc <strong>tính 2 toán hạng ở đỉnh stack với toán tử tương ứng</strong>. Sau đó, thêm kết quả tương ứng vào stack của ta. Sau khi duyệt xong, <strong>phần tử ở đỉnh stack (đồng thời cũng là phần tử duy nhất còn trong stack) sẽ là giá trị của biểu thức</strong>.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-cpp"><code v-pre class="language-cpp">stack&lt;int&gt; st;
// Giả sử xâu s là một RPN lưu các toán hạng là các số từ 
// 0 đến 9 và các toán tử và toán hạng được viết liền nhau
string s;

for(char c : s){
	if(isdigit(c)){
		st.push(c - '0');
	}else{
		int a = st.top(); st.pop();
		int b = st.top(); st.pop();
		switch (c){
			case '+': {st.push(a + b); break; }
			case '-': {st.push(a - b); break; }
			case '*': {st.push(a * b); break; }
			case '/': {st.push(a / b); break; }
		}
	}
}
cout &lt;&lt; st.top();</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="chuyển-từ-trung-tố-sang-hậu-tố">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#chuyển-từ-trung-tố-sang-hậu-tố">#</doc-anchor-trigger>
        <span>Chuyển từ trung tố sang hậu tố</span>
    </h4>
</doc-anchor-target>
<p>Để chuyển một biểu thức từ hạng trung tố sang hậu tố, ta sử dụng <strong>thuật toán shunting yard</strong> của Dijkstra.</p>
<p>Ta có code được viết như sau:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-cpp"><code v-pre class="language-cpp">int priority(char c){
	if (c == '*' || c == '/') return 2;
	if (c == '+' || c == '-') return 1;
	return 0; // c == '('
}

string s;
stack&lt;char&gt; st;
for(char c : s){
	if(isdigit(c)) {
		cout &lt;&lt; c &lt;&lt; ' ';
	} else if(c == '(') {
		st.push(c);
	} else if(c == ')'){
		while(st.size() &amp;&amp; st.top() != '(') {
			cout &lt;&lt; st.top() &lt;&lt; ' ';
			st.pop();
		}
		st.pop();
	}
	else {
		while(st.size() &amp;&amp; st.top() != '(' &amp;&amp; priority(st.top()) &gt;= priority(c)) {
			cout &lt;&lt; st.top() &lt;&lt; ' ';
			st.pop();
		}
		st.push(c);
	} 
}
while(st.size()) {
	cout &lt;&lt; st.top() &lt;&lt; ' ';
	st.pop();
}</code></pre>
</doc-codeblock></div>
<p>Qua đoạn code trên, ta thấy thuật toán hoạt động vô cùng đơn giản trong thời gian tuyến tính.</p>
<ul>
<li>Nếu phần tử đang xét là một toán hạng, ta in thẳng các toán hạng.</li>
<li>Nếu là dấu mở ngoặc, ta thêm dấu ấy vào stack.</li>
<li>Nếu là toán tử thì trước khi thêm toán hạng ấy vào stack, ta sẽ thực hiện việc in và loại bỏ các toán tử có thứ tự ưu tiên lớn hơn hoặc bằng toán tử đang xét (thứ tự ưu tiên của các toán tử cộng trừ nhân chia giống với quy tắc thực hiện tính biểu thức: nhân chia trước, cộng trừ sau, thực hiện các phép tính từ trái sang phải) cho tới khi ta không còn có thể loại bỏ toán tử khỏi stack hoặc phần tử ở đỉnh stack là dấu mở ngoặc.</li>
<li>Nếu là dấu đóng ngoặc, loại bỏ và in ra các phần tử có trong stack cho tới khi phần tử ở đỉnh là dấu mở ngoặc, và loại bỏ dấu mở ngoặc này khỏi stack.</li>
<li>Sau khi kết thúc duyệt, nếu stack không rỗng thì in nốt các toán hạng còn lại trong stack cho tới khi stack rỗng.</li>
</ul>
<p>Ta cũng ví dụ bằng biểu thức ở đầu:</p>
<div class="table-wrapper scrollbar overflow-hidden">
<table class="comfortable">
<thead>
<tr>
<th>Phần tử</th>
<th>Thao tác</th>
<th>Stack</th>
<th>Dữ liệu ra</th>
<th>Ghi chú</th>
</tr>
</thead>
<tbody>
<tr>
<td>4</td>
<td>In số 4</td>
<td></td>
<td>4</td>
<td></td>
</tr>
<tr>
<td><span class="math">\times</span></td>
<td>Thêm vào stack</td>
<td><span class="math">\times</span></td>
<td>4</td>
<td></td>
</tr>
<tr>
<td><span class="math">(</span></td>
<td>Thêm vào stack</td>
<td><span class="math">\times</span> (</td>
<td>4</td>
<td></td>
</tr>
<tr>
<td>1</td>
<td>In số 1</td>
<td><span class="math">\times</span> (</td>
<td>4 1</td>
<td></td>
</tr>
<tr>
<td>+</td>
<td>Thêm vào stack</td>
<td><span class="math">\times</span> ( +</td>
<td>4 1</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>In số 2</td>
<td><span class="math">\times</span> ( +</td>
<td>4 1 2</td>
<td></td>
</tr>
<tr>
<td><span class="math">\times</span></td>
<td>Thêm vào stack</td>
<td><span class="math">\times</span> ( + <span class="math">\times</span></td>
<td>4 1 2</td>
<td>Thứ hạng ưu tiên của <span class="math">\times</span> lớn hơn +</td>
</tr>
<tr>
<td><span class="math">(</span></td>
<td>Thêm vào stack</td>
<td><span class="math">\times</span> ( + <span class="math">\times</span> (</td>
<td>4 1 2</td>
<td></td>
</tr>
<tr>
<td>9</td>
<td>In số 9</td>
<td><span class="math">\times</span> ( + <span class="math">\times</span> (</td>
<td>4 1 2 9</td>
<td></td>
</tr>
<tr>
<td>/</td>
<td>Thêm vào stack</td>
<td><span class="math">\times</span> ( + <span class="math">\times</span> ( /</td>
<td>4 1 2 9</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>In số 3</td>
<td><span class="math">\times</span> ( + <span class="math">\times</span> ( /</td>
<td>4 1 2 9 3</td>
<td></td>
</tr>
<tr>
<td><span class="math">)</span></td>
<td>In, loại bỏ các toán tử</td>
<td><span class="math">\times</span> ( + <span class="math">\times</span></td>
<td>4 1 2 9 3 /</td>
<td>Loại bỏ cho tới khi gặp &quot;(&quot;, đồng thời xóa luôn &quot;(&quot;</td>
</tr>
<tr>
<td>-</td>
<td>Thêm vào stack</td>
<td><span class="math">\times</span> ( -</td>
<td>4 1 2 9 3 / <span class="math">\times</span> +</td>
<td>Loại bỏ các toán tử có thứ tự ưu tiên lớn hơn hoặc bằng</td>
</tr>
<tr>
<td>5</td>
<td>In ra 5</td>
<td><span class="math">\times</span> ( -</td>
<td>4 1 2 9 3 / <span class="math">\times</span> + 5</td>
<td></td>
</tr>
<tr>
<td><span class="math">)</span></td>
<td>In, loại bỏ các toán tử</td>
<td><span class="math">\times</span></td>
<td>4 1 2 9 3 / <span class="math">\times</span> + 5 -</td>
<td></td>
</tr>
<tr>
<td>Kết thúc</td>
<td>In các toán tử còn lại</td>
<td></td>
<td>4 1 2 9 3 / <span class="math">\times</span> + 5 - <span class="math">\times</span></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p>Sau khi kết thúc thuật toán shunting yard, ta thành công chuyển đổi biểu thức từ dạng kí pháp trung tố thành kí pháp hậu tố.</p>
<doc-anchor-target id="dãy-ngoặc-đúng">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#dãy-ngoặc-đúng">#</doc-anchor-trigger>
        <span>Dãy ngoặc đúng</span>
    </h3>
</doc-anchor-target>
<p>Ta ví dụ một bài toán:</p>
<blockquote>
<p>Cho xâu S gồm các kí tự <span class="math">(</span> và <span class="math">)</span>. Kiểm tra xem xâu S có phải là một dãy ngoặc đúng không?
Định nghĩa:</p>
<ul>
<li>Xâu rỗng là một dãy ngoặc đúng.</li>
<li>Nếu A là dãy ngoặc đúng thì (A) cũng là một dãy ngoặc đúng.</li>
<li>Nếu A và B là dãy ngoặc đúng thì AB cũng là một dãy ngoặc đúng.</li>
</ul>
</blockquote>
<p><strong>Ý tưởng</strong>: Duyệt qua từng dấu ngoặc trong dãy ngoặc. Nếu <strong>gặp dấu ngoặc mở</strong> thì thêm vào stack, nếu <strong>là dấu ngoặc đóng</strong> thì <strong>loại bỏ một dấu ngoặc mở trong stack</strong>. Dãy ngoặc sẽ không được gọi là dãy ngoặc đúng <strong>nếu trong lúc duyệt đến dấu ngoặc đóng thì stack rỗng hoặc sau khi duyệt xong thì stack không rỗng</strong>.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-cpp"><code v-pre class="language-cpp">#include &lt;bits/stdc++.h&gt;
#define ll long long
using namespace std;

bool f(string &amp;s);

int main() {
	ios_base::sync_with_stdio(0);
	cin.tie(0);
	string s; cin &gt;&gt; s;
	if(f(s)) cout &lt;&lt; &quot;YES\n&quot;;
	else cout &lt;&lt; &quot;NO\n&quot;;
	return 0;
}

bool f(string &amp;s){
	stack&lt;bool&gt; st;
	for(char c : s){
		if(c == '(') st.push(1);
		else{
			if(st.empty()) return 0;
			st.pop();
		}
	}
	return st.empty();
}</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="khử-đệ-quy-bằng-stack">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#khử-đệ-quy-bằng-stack">#</doc-anchor-trigger>
        <span>Khử đệ quy bằng stack</span>
    </h3>
</doc-anchor-target>
<p>Stack có thể được dùng để thực hiện các thuật toán đệ quy nhờ vào tính chất <strong>LIFO</strong>. Thực tế, khi chạy chương trình sẽ có một stack riêng biệt chịu trách nhiệm trong việc quản lí các hàm. Stack ấy được gọi là <strong>call stack</strong>. Khi một hàm được gọi call stack <strong>sẽ lưu các lần gọi hàm và các dữ liệu liên quan và chỉ bị xóa đi khi hàm đã thực hiện xong</strong>.</p>
<p>Ta ví dụ với hàm tính giai thừa:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-cpp"><code v-pre class="language-cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
int f(int n){
	if(n &lt;= 1) return 1;
	return f(n - 1) * n;
}
int main () {
	cout &lt;&lt; f(5) &lt;&lt; endl;
	return 0;
}</code></pre>
</doc-codeblock></div>
<p>Trước tiên <code v-pre>main()</code> sẽ được thêm vào call stack, tiếp theo là <code v-pre>f(5)</code>, <code v-pre>f(4)</code> cho tới <code v-pre>f(1)</code>. Khi này ta có hình minh họa:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">|         |
|         |
|_________| &lt;- f(1)
|_________| &lt;- f(2)
|_________| &lt;- f(3)
|_________| &lt;- f(4)
|_________| &lt;- f(5)
|_________| &lt;- main()</code></pre>
</doc-codeblock></div>
<p>Sau khi hàm <code v-pre>f(1)</code> thực hiện xong, <strong>nó sẽ trả về giá trị và được xóa khỏi call stack</strong>. Tiếp đến là <code v-pre>f(2)</code>,<code v-pre>f(3)</code> tới <code v-pre>f(5)</code> và chương trình của ta đã chạy xong!</p>
<p>Nếu ta gọi các hàm quá nhiều, call stack sẽ tràn bộ nhớ và ta nhận về lỗi <a href="https://en.wikipedia.org/wiki/Stack_overflow"><strong>Stack Overflow</strong></a>.</p>
<p>Để giải quyết việc này, ta thực hiện việc khử đệ quy. Thay vì để máy tính tự tạo một call stack, ta sẽ tự tạo call stack trong bộ nhớ chương trình của ta.</p>
<p>Ta có cài đặt <a href="/handbook/graph-theory/dfs.md">thuật toán DFS</a> sử dụng stack:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-cpp"><code v-pre class="language-cpp">// Giả sử ta lưu đồ thị bằng danh sách kề

void dfs(int u){
	stack&lt;int&gt; st;
	st.push(u);
	while(st.size()){
		int u = st.top(); st.pop();
		visited[u] = 1;

		// Xử lí đỉnh u

		for(int v : adj[u]){
			if(visited[v]) continue;
			st.push(v);
		}
	}
}</code></pre>
</doc-codeblock></div>
<p>Ta áp dụng việc khử đệ quy khi hàm đệ quy quá sâu và có thể xảy ra lỗi Stack Overflow.</p>
<doc-anchor-target id="stack-đơn-điệu">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#stack-đơn-điệu">#</doc-anchor-trigger>
        <span>Stack đơn điệu</span>
    </h3>
</doc-anchor-target>
<p>Stack đơn điệu là kiểu stack mà các phần tử từ đáy đến đỉnh có giá trị tăng dần hoặc giảm dần.</p>
<p>Ta ví dụ một bài toán:</p>
<blockquote>
<p>Cho mảng <code v-pre>a</code> có <span class="math">n</span> phần tử bắt đầu từ chỉ số <span class="math">1</span>. Với mỗi phần tử trong mảng, tìm phần tử gần nhất bên trái có giá trị lớn hơn phần tử đang xét. Nếu phần tử ấy không tồn tại thì in ra <span class="math">-1</span>.</p>
</blockquote>
<p>Với cách giải thông thường, ta sẽ sử dụng <span class="math">2</span> vòng lặp lồng nhau để giải bài toán.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-cpp"><code v-pre class="language-cpp">#include &lt;bits/stdc++.h&gt;
#define ll long long
using namespace std;
const int N = 1e5 + 10;
int a[N];
int main () {
	ios_base::sync_with_stdio(0);
	cin.tie(0);
	int n; cin &gt;&gt; n;	
	for(int i = 1; i &lt;= n; ++i){
		cin &gt;&gt; a[i];
	}
	for(int i = 1; i &lt;= n; ++i){
		int id = -1; // Nếu không có phần tử thỏa mãn thì in ra -1
		for(int j = 1; j &lt; i; ++j){
			if(a[j] &gt; a[i]) id = j;
		}
		cout &lt;&lt; id &lt;&lt; ' ';
	}
	return 0;
}</code></pre>
</doc-codeblock></div>
<p>Độ phức tạp thuật toán là <span class="math">O(n^2)</span>.</p>
<p>Để tối ưu thuật toán, ta thực hiện các bước sau với mọi <span class="math">i</span> từ <span class="math">1</span> đến <span class="math">n</span>:</p>
<ul>
<li>Trước khi thêm vào <span class="math">a_i</span>, thực hiện loại bỏ các phần tử ở đỉnh stack cho đến khi đỉnh stack có giá trị lớn hơn <span class="math">a_i</span> hoặc stack rỗng.</li>
<li>Nếu stack rỗng, ta in giá trị thông báo không có phần tử thỏa mãn, nếu không rỗng thì in ra phần tử ở đỉnh stack.</li>
<li>Thêm <span class="math">a_i</span> vào stack.</li>
</ul>
<p>Dễ thấy các giá trị trong stack sẽ tạo thành dãy đơn điệu tăng dần từ đáy đến đỉnh stack.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-cpp"><code v-pre class="language-cpp">#include &lt;bits/stdc++.h&gt;
#define ll long long
using namespace std;
const int N = 1e5 + 10;
int a[N];
int main () {
	ios_base::sync_with_stdio(0);
	cin.tie(0);
	int n; cin &gt;&gt; n;	
	for(int i = 1; i &lt;= n; ++i){
		cin &gt;&gt; a[i];
	}
	stack&lt;int&gt; st;
	for(int i = 1; i &lt;= n; ++i){
		while(st.size() &amp;&amp; a[i] &gt;= a[st.size()]) st.pop();
		if(st.empty()) cout &lt;&lt; &quot;-1 &quot;;
		else cout &lt;&lt; a[st.top()] &lt;&lt; ' ';
		st.push(i);
	}
	return 0;
}</code></pre>
</doc-codeblock></div>
<p>Độ phức tạp thuật toán là <span class="math">O(n)</span>.</p>
<div class="flex mb-6">
    <div class="shrink-0 w-1 rounded-tl rounded-bl bg-yellow-500"></div>
    <div class="flex w-full py-4 border border-l-0 border-gray-300 rounded-tr rounded-br doc-alert bg-white dark:bg-dark-700 dark:border-dark-700" role="alert">
        <div class="flex items-center ml-4 h-7">
            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px text-yellow-500" width="22" height="22" viewBox="0 0 24 24" role="presentation">
                <g fill="currentColor"><g>
                    <path d="M22.48 15.59L14.01 1.45A2.968 2.968 0 0012.16.09c-.78-.19-1.58-.07-2.27.35-.41.25-.76.6-1.01 1.01v.01L.4 15.6c-.83 1.43-.33 3.27 1.1 4.1.45.26.95.4 1.48.4h16.95c.8-.01 1.55-.33 2.11-.9.56-.57.87-1.33.86-2.13a3.04 3.04 0 00-.42-1.48zm-1.87 2.21c-.19.19-.44.3-.69.3H2.99c-.17 0-.34-.05-.49-.13a.992.992 0 01-.37-1.35L10.6 2.48c.08-.14.2-.25.34-.33a.992.992 0 011.37.33l8.46 14.13c.09.15.13.32.13.49 0 .26-.1.51-.29.7z"></path>
                    <path d="M11.45 12.1c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1s-1 .45-1 1v4c0 .56.45 1 1 1zM11.46 14.1c-.56 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path>
                </g></g>
            </svg>
        </div>
        <div class="pr-5 ml-3 w-full">
<p>Mặc dù thuật toán của ta có <span class="math">2</span> vòng lặp lồng nhau, nhưng nếu để ý kĩ thì mỗi phần tử trong mảng sẽ được <code v-pre>push</code> một lần và <code v-pre>pop</code> nhiều nhất <span class="math">1</span> lần. Vậy nên độ phức tạp sẽ là <span class="math">O(n)</span>.</p>
        </div>
    </div>
</div>

                                <div class="flex items-center mt-6 mb-6 clear-both">
                                    <span>
                                        <a href="../../../tags/">
                                            <svg class="inline-block -mb-px mr-1.5 text-blue-500 dark:text-blue-400" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" overflow="visible" fill="currentColor"><g><path d="M21.3 9.88l-8.59-8.59C12.52 1.11 12.27 1 12 1H2c-.55 0-1 .45-1 1v10c0 .27.11.52.29.71l8.59 8.58c.57.57 1.32.88 2.12.88s1.55-.31 2.12-.88l7.17-7.17a3.009 3.009 0 00.01-4.24zm-1.42 2.82l-7.17 7.17c-.39.39-1.02.39-1.42 0L3 11.59V3h8.59l8.29 8.29c.39.39.39 1.03 0 1.41z" /><path d="M7.01 6C6.45 6 6 6.45 6 7s.45 1 1 1 1-.45 1-1-.44-1-.99-1z" /></g></svg>
                                        </a>
                                        <span class="mr-2"><a href="../../../tags/c%E1%BA%A5u-tr%C3%BAc-d%E1%BB%AF-li%E1%BB%87u/" class="no-link inline-flex align-middle items-center justify-center font-medium leading-none whitespace-nowrap text-blue-500 dark:text-blue-400 border border-blue-500 dark:border-blue-400 hover:bg-blue-100 dark:hover:bg-transparent dark:hover:border-blue-200 dark:hover:text-blue-200 transition-colors duration-200 ease-out h-6 px-2 text-xs rounded-md">
                                    <span>cấu trúc dữ liệu</span>
                                </a></span>
                                        <span class="mr-2"><a href="../../../tags/stack/" class="no-link inline-flex align-middle items-center justify-center font-medium leading-none whitespace-nowrap text-blue-500 dark:text-blue-400 border border-blue-500 dark:border-blue-400 hover:bg-blue-100 dark:hover:bg-transparent dark:hover:border-blue-200 dark:hover:text-blue-200 transition-colors duration-200 ease-out h-6 px-2 text-xs rounded-md">
                                    <span>stack</span>
                                </a></span>
                                        <span class="mr-2"><a href="../../../tags/ng%C4%83n-x%E1%BA%BFp/" class="no-link inline-flex align-middle items-center justify-center font-medium leading-none whitespace-nowrap text-blue-500 dark:text-blue-400 border border-blue-500 dark:border-blue-400 hover:bg-blue-100 dark:hover:bg-transparent dark:hover:border-blue-200 dark:hover:text-blue-200 transition-colors duration-200 ease-out h-6 px-2 text-xs rounded-md">
                                    <span>ngăn xếp</span>
                                </a></span>
                                        <span class="mr-2"><a href="../../../tags/competitive-programming/" class="no-link inline-flex align-middle items-center justify-center font-medium leading-none whitespace-nowrap text-blue-500 dark:text-blue-400 border border-blue-500 dark:border-blue-400 hover:bg-blue-100 dark:hover:bg-transparent dark:hover:border-blue-200 dark:hover:text-blue-200 transition-colors duration-200 ease-out h-6 px-2 text-xs rounded-md">
                                    <span>competitive programming</span>
                                </a></span>
                                        <span class="mr-2"><a href="../../../tags/cp/" class="no-link inline-flex align-middle items-center justify-center font-medium leading-none whitespace-nowrap text-blue-500 dark:text-blue-400 border border-blue-500 dark:border-blue-400 hover:bg-blue-100 dark:hover:bg-transparent dark:hover:border-blue-200 dark:hover:text-blue-200 transition-colors duration-200 ease-out h-6 px-2 text-xs rounded-md">
                                    <span>cp</span>
                                </a></span>
                                    </span>
                                </div>
                
                                <!-- Required only on API pages -->
                                <doc-toolbar-member-filter-no-results></doc-toolbar-member-filter-no-results>
                            </div>
                            <footer class="clear-both">
                            
                                <nav class="flex mt-14">
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 h-full flex items-center break-normal font-medium text-blue-500 dark:text-blue-400 border border-gray-300 hover:border-gray-400 dark:border-dark-650 dark:hover:border-dark-450 rounded-l-lg transition-colors duration-150 relative hover:z-5" href="../../../handbook/basic/two-pointers/">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mr-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19 11H7.41l5.29-5.29a.996.996 0 10-1.41-1.41l-7 7a1 1 0 000 1.42l7 7a1.024 1.024 0 001.42-.01.996.996 0 000-1.41L7.41 13H19c.55 0 1-.45 1-1s-.45-1-1-1z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                            <span>
                                                <span class="block text-xs font-normal text-gray-400 dark:text-dark-400">Previous</span>
                                                <span class="block mt-1">Kĩ thuật hai con trỏ</span>
                                            </span>
                                        </a>
                                    </div>
                            
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 -mx-px h-full flex items-center justify-end break-normal font-medium text-blue-500 dark:text-blue-400 border border-gray-300 hover:border-gray-400 dark:border-dark-650 dark:hover:border-dark-450 rounded-r-lg transition-colors duration-150 relative hover:z-5" href="../../../handbook/data-structures/queue/">
                                            <span>
                                                <span class="block text-xs font-normal text-right text-gray-400 dark:text-dark-400">Next</span>
                                                <span class="block mt-1">Hàng đợi (Queue)</span>
                                            </span>
                                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19.92 12.38a1 1 0 00-.22-1.09l-7-7a.996.996 0 10-1.41 1.41l5.3 5.3H5c-.55 0-1 .45-1 1s.45 1 1 1h11.59l-5.29 5.29a.996.996 0 000 1.41c.19.2.44.3.7.3s.51-.1.71-.29l7-7c.09-.09.16-.21.21-.33z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                        </a>
                                    </div>
                                </nav>
                            </footer>
                        </main>
                
                        <div class="border-t dark:border-dark-650 pt-6 mb-8">
                            <footer class="flex flex-wrap items-center justify-between">
                                <div>
                                    <ul class="flex flex-wrap items-center text-sm">
                                        <li>
                                            <a class="block mr-4 py-2 text-sm whitespace-nowrap transition-colors duration-200 ease-linear text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 md:mb-0" href="https://akk1to.is-a.dev">Visit akk1to.dev website</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="docs-copyright py-2 text-gray-500 dark:text-dark-350 text-sm leading-relaxed"><p>© Copyright 2025 ChuyentinORZ &amp; akk1to.dev. All rights reserved.</p></div>
                            </footer>
                        </div>
                    </div>
                
                    <!-- Rendered if sidebar right is enabled -->
                    <!-- Sidebar right skeleton-->
                    <div v-cloak class="fixed top-0 bottom-0 right-0 translate-x-full bg-white border-gray-200 lg:sticky lg:border-l lg:shrink-0 lg:pt-6 lg:transform-none sm:w-1/2 lg:w-64 lg:z-0 md:w-104 sidebar-right skeleton dark:bg-dark-850 dark:border-dark-650">
                        <div class="pl-5">
                            <div class="w-32 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                            <div class="w-48 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                            <div class="w-40 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                        </div>
                    </div>
                
                    <!-- User should be able to hide sidebar right -->
                    <doc-sidebar-right v-cloak></doc-sidebar-right>
                </div>

            </div>
        </div>
    
        <doc-search-mobile></doc-search-mobile>
        <doc-back-to-top></doc-back-to-top>
    </div>


    <div id="docs-overlay-target"></div>

    <script data-cfasync="false">window.__DOCS__ = { "title": "Ngăn xếp (Stack)", level: 3, icon: "file", hasPrism: true, hasMermaid: false, hasMath: true, tocDepth: 23 }</script>
</body>
</html>
